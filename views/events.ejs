<%- include('partials/header') %>

<div id="events-container">
    <h2>Available Events</h2>

    <!-- Search Form -->
    <form method="GET" action="/events" class="search-form">
        <input type="text" name="search" placeholder="Search event title..." value="<%= search || '' %>">
        <input type="text" name="location" placeholder="Search by location..." value="<%= location || '' %>">
        <button type="submit">Search</button>
    </form>

    <!-- Scrollable Event Box -->
    <div class="event-box">
        <% if (events.length > 0) { %>
            <% events.forEach(event => { %>
                <div class="event-card">
                    <h3><%= event.title %></h3>
                    <p><strong>Date:</strong> <%= event.date.toDateString() %></p>
                    <p><strong>Location:</strong> <%= event.location %></p>
                    <p><strong>Description:</strong> <%= event.description %></p>
                    <p><strong>Created By:</strong> <%= event.createdBy.name %></p>
                    
                    <!-- Volunteer Signup Button -->
                    <form action="/events/<%= event._id %>/volunteer" method="POST">
                        <button type="submit" class="volunteer-btn">Sign Up as Volunteer</button>
                    </form>
                    
                </div>
            <% }) %>
        <% } else { %>
            <p>No events found.</p>
        <% } %>
    </div>
</div>

<%- include('partials/footer') %>
